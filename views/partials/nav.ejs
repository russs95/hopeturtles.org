<header class="site-header">
  <div class="brand">
    <a href="/" class="brand-link" aria-label="HopeTurtles.org home">
      <span class="sr-only">HopeTurtles.org</span>
      <pre
        class="brand-ascii"
        aria-hidden="true"
        style="font-size: 1.1hw; white-space: pre; display: inline-block; line-height: 1;"
      >   _______   ___&#32;&#32;
 /        \ |  0| &#32;
|         |/ __\| &#32;
|______ ___/     &#32;
  |__| |__|   HopeTurtles.org
      </pre>
    </a>
  </div>
  <nav class="primary-nav" aria-label="Primary">
    <a href="/missions"><%= t.nav_mission || 'Mission' %></a>
    <a href="/missions#map"><%= t.nav_tracking || 'Tracking' %></a>
    <a href="#contact"><%= t.nav_contact || 'Contact' %></a>
    <% if (currentUser && currentUser.role === 'admin') { %>
      <a href="/admin/users">User management</a>
    <% } %>
  </nav>
  <div class="nav-controls">
    <div class="lang-menu">
      <button
        id="languageButton"
        class="lang-button"
        type="button"
        aria-haspopup="listbox"
        aria-expanded="false"
        aria-controls="languageMenu"
      >
        <span class="sr-only">Change language</span>
        <span class="lang-button-code"><%= (lang || 'en').toUpperCase() %></span>
      </button>
      <ul id="languageMenu" class="lang-options" role="listbox" hidden>
        <% languages.forEach(function (option) { %>
          <li role="none">
            <button
              type="button"
              role="option"
              data-lang="<%= option.code %>"
              class="lang-option"
              aria-selected="<%= option.code === lang %>"
            >
              <span class="lang-option-code"><%= option.code.toUpperCase() %></span>
              <span class="lang-option-label"><%= option.label %></span>
            </button>
          </li>
        <% }) %>
      </ul>
    </div>
    <% if (currentUser) { %>
      <a class="button" href="/dashboard">Dashboard</a>
    <% } else { %>
      <a class="button" href="<%= loginUrl %>">Login</a>
      <a
        class="button ghost"
        href="https://buwana.ecobricks.org/en/signup-1.php?app=hope_8fc3caabded4"
        target="_blank"
        rel="noreferrer"
      >
        Signup
      </a>
    <% } %>
    <button
      id="themeToggle"
      class="theme-toggle"
      aria-label="<%= theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode' %>"
      aria-pressed="<%= theme === 'dark' ? 'true' : 'false' %>"
      type="button"
    >
      <span class="theme-icon" aria-hidden="true"><%= theme === 'dark' ? '☀️' : '🌙' %></span>
      <span class="sr-only"><%= theme === 'dark' ? 'Activate light theme' : 'Activate dark theme' %></span>
    </button>
  </div>
</header>
